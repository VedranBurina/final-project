// Importiranje displayPopupMessage i paramValue funkcije iz specificiranog modula
import { displayPopupMessage, paramValue } from "./display_status.js";

// Definiranje konstanti objekata za pojedine vrijednosti statusa
// Objekti sadrže: moguću vrijednost statusa
// Ikonu za poruku korisniku
// Tekst poruke
const USER_DATA = {
    status: "user_data_changed",
    icon: `
    <svg width="90" height="90" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M5.62117 14.9627L6.72197 15.1351C7.53458 15.2623 8.11491 16.0066 8.05506 16.8451L7.97396 17.9816C7.95034 18.3127 8.12672 18.6244 8.41885 18.7686L9.23303 19.1697C9.52516 19.3139 9.87399 19.2599 10.1126 19.0352L10.9307 18.262C11.5339 17.6917 12.4646 17.6917 13.0685 18.262L13.8866 19.0352C14.1252 19.2608 14.4733 19.3139 14.7662 19.1697L15.5819 18.7678C15.8733 18.6244 16.0489 18.3135 16.0253 17.9833L15.9441 16.8451C15.8843 16.0066 16.4646 15.2623 17.2772 15.1351L18.378 14.9627C18.6985 14.9128 18.9568 14.6671 19.0292 14.3433L19.23 13.4428C19.3025 13.119 19.1741 12.7831 18.9064 12.5962L17.9875 11.9526C17.3095 11.4774 17.1024 10.5495 17.5119 9.82051L18.067 8.83299C18.2284 8.54543 18.2017 8.18538 17.9993 7.92602L17.4363 7.2035C17.2339 6.94413 16.8969 6.83701 16.5867 6.93447L15.5221 7.26794C14.7355 7.51441 13.8969 7.1012 13.5945 6.31908L13.1866 5.26148C13.0669 4.95218 12.7748 4.7492 12.4496 4.75L11.5472 4.75242C11.222 4.75322 10.9307 4.95782 10.8126 5.26793L10.4149 6.31344C10.1157 7.1004 9.27319 7.51683 8.4842 7.26874L7.37553 6.92078C7.0645 6.82251 6.72591 6.93044 6.52355 7.19142L5.96448 7.91474C5.76212 8.17652 5.73771 8.53738 5.90228 8.82493L6.47 9.81487C6.88812 10.5446 6.68339 11.4814 6.00149 11.9591L5.0936 12.5954C4.82588 12.7831 4.69754 13.119 4.76998 13.442L4.97077 14.3425C5.04242 14.6671 5.30069 14.9128 5.62117 14.9627Z" stroke="#3eb489" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
        <path d="M13.5911 10.4089C14.4696 11.2875 14.4696 12.7125 13.5911 13.5911C12.7125 14.4696 11.2875 14.4696 10.4089 13.5911C9.53036 12.7125 9.53036 11.2875 10.4089 10.4089C11.2875 9.53036 12.7125 9.53036 13.5911 10.4089Z" stroke="#3eb489" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
    </svg>
    `,
    msg: "Postavke računa spremljene."
};

const USER_DATA_FAILED = {
    status: "!user_data_changed",
    icon: `
    <svg width="90" height="90" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M5.62117 14.9627L6.72197 15.1351C7.53458 15.2623 8.11491 16.0066 8.05506 16.8451L7.97396 17.9816C7.95034 18.3127 8.12672 18.6244 8.41885 18.7686L9.23303 19.1697C9.52516 19.3139 9.87399 19.2599 10.1126 19.0352L10.9307 18.262C11.5339 17.6917 12.4646 17.6917 13.0685 18.262L13.8866 19.0352C14.1252 19.2608 14.4733 19.3139 14.7662 19.1697L15.5819 18.7678C15.8733 18.6244 16.0489 18.3135 16.0253 17.9833L15.9441 16.8451C15.8843 16.0066 16.4646 15.2623 17.2772 15.1351L18.378 14.9627C18.6985 14.9128 18.9568 14.6671 19.0292 14.3433L19.23 13.4428C19.3025 13.119 19.1741 12.7831 18.9064 12.5962L17.9875 11.9526C17.3095 11.4774 17.1024 10.5495 17.5119 9.82051L18.067 8.83299C18.2284 8.54543 18.2017 8.18538 17.9993 7.92602L17.4363 7.2035C17.2339 6.94413 16.8969 6.83701 16.5867 6.93447L15.5221 7.26794C14.7355 7.51441 13.8969 7.1012 13.5945 6.31908L13.1866 5.26148C13.0669 4.95218 12.7748 4.7492 12.4496 4.75L11.5472 4.75242C11.222 4.75322 10.9307 4.95782 10.8126 5.26793L10.4149 6.31344C10.1157 7.1004 9.27319 7.51683 8.4842 7.26874L7.37553 6.92078C7.0645 6.82251 6.72591 6.93044 6.52355 7.19142L5.96448 7.91474C5.76212 8.17652 5.73771 8.53738 5.90228 8.82493L6.47 9.81487C6.88812 10.5446 6.68339 11.4814 6.00149 11.9591L5.0936 12.5954C4.82588 12.7831 4.69754 13.119 4.76998 13.442L4.97077 14.3425C5.04242 14.6671 5.30069 14.9128 5.62117 14.9627Z" stroke="#f94449" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
        <path d="M13.5911 10.4089C14.4696 11.2875 14.4696 12.7125 13.5911 13.5911C12.7125 14.4696 11.2875 14.4696 10.4089 13.5911C9.53036 12.7125 9.53036 11.2875 10.4089 10.4089C11.2875 9.53036 12.7125 9.53036 13.5911 10.4089Z" stroke="#f94449" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
    </svg>
    `,
    msg: "Greška: postavke nisu spremljene."
};

const USERNAME_DUPLICATE = {
    status: "username_duplicate",
    icon: `
    <svg xmlns="http://www.w3.org/2000/svg" width="90" height="90" fill="none" viewBox="0 0 24 24">
        <path fill="#f94449" d="m7.488 17.675-.467.587.467-.587ZM12.25 20a.75.75 0 0 0 0-1.5V20Zm6.25-7.75a.75.75 0 0 0 1.5 0h-1.5Zm-6.25 4.25a.75.75 0 0 0 0-1.5v1.5Zm4.03-1.28a.75.75 0 1 0-1.06 1.06l1.06-1.06Zm2.44 4.56a.75.75 0 1 0 1.06-1.06l-1.06 1.06Zm1.06-3.5a.75.75 0 1 0-1.06-1.06l1.06 1.06Zm-4.56 2.44a.75.75 0 1 0 1.06 1.06l-1.06-1.06ZM5.5 12A6.5 6.5 0 0 1 12 5.5V4a8 8 0 0 0-8 8h1.5ZM12 5.5a6.5 6.5 0 0 1 6.5 6.5H20a8 8 0 0 0-8-8v1.5Zm1.5 5.5a1.5 1.5 0 0 1-1.5 1.5V14a3 3 0 0 0 3-3h-1.5ZM12 12.5a1.5 1.5 0 0 1-1.5-1.5H9a3 3 0 0 0 3 3v-1.5ZM10.5 11A1.5 1.5 0 0 1 12 9.5V8a3 3 0 0 0-3 3h1.5ZM12 9.5a1.5 1.5 0 0 1 1.5 1.5H15a3 3 0 0 0-3-3v1.5Zm-3.97 8.694A5.482 5.482 0 0 1 12 16.5V15a6.98 6.98 0 0 0-5.053 2.156l1.082 1.038ZM12 18.5a6.47 6.47 0 0 1-4.045-1.412l-.934 1.174A7.97 7.97 0 0 0 12 20v-1.5Zm-4.045-1.412A6.487 6.487 0 0 1 5.5 12H4a7.987 7.987 0 0 0 3.02 6.262l.935-1.174ZM12 20h.25v-1.5H12V20Zm6.5-8v.25H20V12h-1.5ZM12 16.5h.25V15H12v1.5Zm3.22-.22 1.75 1.75 1.06-1.06-1.75-1.75-1.06 1.06Zm1.75 1.75 1.75 1.75 1.06-1.06-1.75-1.75-1.06 1.06Zm1.75-2.81-1.75 1.75 1.06 1.06 1.75-1.75-1.06-1.06Zm-1.75 1.75-1.75 1.75 1.06 1.06 1.75-1.75-1.06-1.06Z"></path>
    </svg>
    `,
    msg: "Korisničko ime je već u upotrebi."
};

const SAVE_SUCCESS = { 
    status: "success",
    icon: `
    <svg width="90" height="90" fill="none" viewBox="0 0 24 24">
        <path stroke="#3eb489" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M7.75 19.25H16.25C17.3546 19.25 18.25 18.3546 18.25 17.25V9L14 4.75H7.75C6.64543 4.75 5.75 5.64543 5.75 6.75V17.25C5.75 18.3546 6.64543 19.25 7.75 19.25Z"></path>
        <path stroke="#3eb489" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M18 9.25H13.75V5"></path>
        <path stroke="#3eb489" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9.75 15.25H14.25"></path>
        <path stroke="#3eb489" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9.75 12.25H14.25"></path>
    </svg>
    `,
    msg: "Bilješka uspješno dodana."
}

const SAVE_ERROR = { 
    status: "error",
    icon: `
    <svg width="90" height="90" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M12 14.25C11.5858 14.25 11.25 14.5858 11.25 15C11.25 15.4142 11.5858 15.75 12 15.75V14.25ZM12.01 15.75C12.4242 15.75 12.76 15.4142 12.76 15C12.76 14.5858 12.4242 14.25 12.01 14.25V15.75ZM12 15.75H12.01V14.25H12V15.75Z" fill="#f94449"></path>
        <path d="M10.4033 5.41136L10.9337 5.94169L10.4033 5.41136ZM5.41136 10.4033L4.88103 9.87301L4.88103 9.87301L5.41136 10.4033ZM5.41136 13.5967L5.94169 13.0663L5.94169 13.0663L5.41136 13.5967ZM10.4033 18.5886L10.9337 18.0583L10.4033 18.5886ZM13.5967 18.5886L14.127 19.119L14.127 19.119L13.5967 18.5886ZM18.5886 10.4033L19.119 9.87301L19.119 9.87301L18.5886 10.4033ZM13.5967 5.41136L14.127 4.88103L14.127 4.88103L13.5967 5.41136ZM9.87301 4.88103L4.88103 9.87301L5.94169 10.9337L10.9337 5.94169L9.87301 4.88103ZM4.88103 14.127L9.87301 19.119L10.9337 18.0583L5.94169 13.0663L4.88103 14.127ZM14.127 19.119L19.119 14.127L18.0583 13.0663L13.0663 18.0583L14.127 19.119ZM19.119 9.87301L14.127 4.88103L13.0663 5.94169L18.0583 10.9337L19.119 9.87301ZM19.119 14.127C20.2937 12.9523 20.2937 11.0477 19.119 9.87301L18.0583 10.9337C18.6472 11.5226 18.6472 12.4774 18.0583 13.0663L19.119 14.127ZM9.87301 19.119C11.0477 20.2937 12.9523 20.2937 14.127 19.119L13.0663 18.0583C12.4774 18.6472 11.5226 18.6472 10.9337 18.0583L9.87301 19.119ZM4.88103 9.87301C3.70632 11.0477 3.70632 12.9523 4.88103 14.127L5.94169 13.0663C5.35277 12.4774 5.35277 11.5226 5.94169 10.9337L4.88103 9.87301ZM10.9337 5.94169C11.5226 5.35277 12.4774 5.35277 13.0663 5.94169L14.127 4.88103C12.9523 3.70632 11.0477 3.70632 9.87301 4.88103L10.9337 5.94169Z" fill="#f94449"></path>
        <path d="M12 8.75V12.25" stroke="#f94449" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
    </svg>
    `,
    msg: "Greška: bilješka nije dodana."
}

const EDIT_SUCCESS = { 
    status: "success_edit",
    icon: `
    <svg width="70" height="70" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M17.25 15.75V16.25C17.25 17.9069 15.9069 19.25 14.25 19.25H7.75C6.09315 19.25 4.75 17.9069 4.75 16.25V7.75C4.75 6.09315 6.09315 4.75 7.75 4.75H10.25" stroke="#3eb489" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
        <path d="M18.7391 7.72763L19.2695 8.25796L19.2695 8.25796L18.7391 7.72763ZM15.456 11.0108L15.9863 11.5411L15.9863 11.5411L15.456 11.0108ZM14.4669 11.5708L14.6488 12.2984L14.6488 12.2984L14.4669 11.5708ZM11.75 12.25L11.0224 12.0681C10.9585 12.3237 11.0334 12.594 11.2197 12.7803C11.406 12.9666 11.6763 13.0415 11.9319 12.9776L11.75 12.25ZM12.4292 9.53312L13.1568 9.71502L13.1568 9.71502L12.4292 9.53312ZM12.9892 8.544L13.5196 9.07433L13.5196 9.07433L12.9892 8.544ZM16.2724 5.26088L15.742 4.73055L15.742 4.73055L16.2724 5.26088ZM18.7391 5.26088L18.2088 5.79121L18.2088 5.79121L18.7391 5.26088ZM18.2088 7.1973L14.9257 10.4804L15.9863 11.5411L19.2695 8.25796L18.2088 7.1973ZM14.285 10.8432L11.5681 11.5224L11.9319 12.9776L14.6488 12.2984L14.285 10.8432ZM12.4776 12.4319L13.1568 9.71502L11.7016 9.35122L11.0224 12.0681L12.4776 12.4319ZM13.5196 9.07433L16.8027 5.79121L15.742 4.73055L12.4589 8.01367L13.5196 9.07433ZM13.1568 9.71502C13.2174 9.47253 13.3428 9.25108 13.5196 9.07433L12.4589 8.01367C12.0899 8.38265 11.8282 8.84498 11.7016 9.35122L13.1568 9.71502ZM14.9257 10.4804C14.7489 10.6572 14.5275 10.7826 14.285 10.8432L14.6488 12.2984C15.155 12.1718 15.6173 11.9101 15.9863 11.5411L14.9257 10.4804ZM18.2088 5.79121C18.5971 6.17949 18.5971 6.80902 18.2088 7.1973L19.2695 8.25796C20.2435 7.28389 20.2435 5.70462 19.2694 4.73055L18.2088 5.79121ZM19.2694 4.73055C18.2954 3.75648 16.7161 3.75648 15.742 4.73055L16.8027 5.79121C17.191 5.40293 17.8205 5.40293 18.2088 5.79121L19.2694 4.73055Z" fill="#3eb489"></path>
        <path d="M7.75 15.25H14.25" stroke="#3eb489" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
        <path d="M7.75 12.25H9.25" stroke="#3eb489" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
        <path d="M7.75 9.25H9.25" stroke="#3eb489" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
    </svg>
    `,
    msg: "Bilješka uspješno uređena."
}

const EDIT_ERROR = { 
    status: "error_edit",
    icon: `
    <svg width="90" height="90" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M12 14.25C11.5858 14.25 11.25 14.5858 11.25 15C11.25 15.4142 11.5858 15.75 12 15.75V14.25ZM12.01 15.75C12.4242 15.75 12.76 15.4142 12.76 15C12.76 14.5858 12.4242 14.25 12.01 14.25V15.75ZM12 15.75H12.01V14.25H12V15.75Z" fill="#f94449"></path>
        <path d="M10.4033 5.41136L10.9337 5.94169L10.4033 5.41136ZM5.41136 10.4033L4.88103 9.87301L4.88103 9.87301L5.41136 10.4033ZM5.41136 13.5967L5.94169 13.0663L5.94169 13.0663L5.41136 13.5967ZM10.4033 18.5886L10.9337 18.0583L10.4033 18.5886ZM13.5967 18.5886L14.127 19.119L14.127 19.119L13.5967 18.5886ZM18.5886 10.4033L19.119 9.87301L19.119 9.87301L18.5886 10.4033ZM13.5967 5.41136L14.127 4.88103L14.127 4.88103L13.5967 5.41136ZM9.87301 4.88103L4.88103 9.87301L5.94169 10.9337L10.9337 5.94169L9.87301 4.88103ZM4.88103 14.127L9.87301 19.119L10.9337 18.0583L5.94169 13.0663L4.88103 14.127ZM14.127 19.119L19.119 14.127L18.0583 13.0663L13.0663 18.0583L14.127 19.119ZM19.119 9.87301L14.127 4.88103L13.0663 5.94169L18.0583 10.9337L19.119 9.87301ZM19.119 14.127C20.2937 12.9523 20.2937 11.0477 19.119 9.87301L18.0583 10.9337C18.6472 11.5226 18.6472 12.4774 18.0583 13.0663L19.119 14.127ZM9.87301 19.119C11.0477 20.2937 12.9523 20.2937 14.127 19.119L13.0663 18.0583C12.4774 18.6472 11.5226 18.6472 10.9337 18.0583L9.87301 19.119ZM4.88103 9.87301C3.70632 11.0477 3.70632 12.9523 4.88103 14.127L5.94169 13.0663C5.35277 12.4774 5.35277 11.5226 5.94169 10.9337L4.88103 9.87301ZM10.9337 5.94169C11.5226 5.35277 12.4774 5.35277 13.0663 5.94169L14.127 4.88103C12.9523 3.70632 11.0477 3.70632 9.87301 4.88103L10.9337 5.94169Z" fill="#f94449"></path>
        <path d="M12 8.75V12.25" stroke="#f94449" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
    </svg>
    `,
    msg: "Greška: neuspješno uređena bilješka."
}

// Dobivanje i pohrana vrijednosti parametra status iz URL-a
const status = paramValue("status");

// Uspoređivanje status varijable sa preddefiniranim vrijednostima
// Prikazivanje korisniku poruke na temelju statusa (parametra) u URL-u 
if(status === USER_DATA.status) {
    displayPopupMessage(USER_DATA.icon, USER_DATA.msg);
} 
else if(status === USER_DATA_FAILED.status) {
    displayPopupMessage(USER_DATA_FAILED.icon, USER_DATA_FAILED.msg);
}
else if(status === USERNAME_DUPLICATE.status) {
    displayPopupMessage(USERNAME_DUPLICATE.icon, USERNAME_DUPLICATE.msg);
}
else if(status === SAVE_SUCCESS.status) {
    displayPopupMessage(SAVE_SUCCESS.icon, SAVE_SUCCESS.msg);
}
else if(status === SAVE_ERROR.status) {
    displayPopupMessage(SAVE_ERROR.icon, SAVE_ERROR.msg);
}
else if(status === EDIT_SUCCESS.status) {
    displayPopupMessage(EDIT_SUCCESS.icon, EDIT_SUCCESS.msg);
}
else if(status === EDIT_ERROR.status) {
    displayPopupMessage(EDIT_ERROR.icon, EDIT_ERROR.msg);
}