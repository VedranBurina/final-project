// Importiranje displayPopupMessage i paramValue funkcije iz specificiranog modula
import { displayPopupMessage, paramValue } from "../../JS/display_status.js";

// Definiranje konstanti objekata za pojedine vrijednosti statusa
// Objekti sadrže: moguću vrijednost statusa
// Ikonu za poruku korisniku
// Tekst poruke
const LOGIN_FAILED = {
    status: "login_failed",
    icon: `
    <svg width="90" height="90" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M12 14.25C11.5858 14.25 11.25 14.5858 11.25 15C11.25 15.4142 11.5858 15.75 12 15.75V14.25ZM12.01 15.75C12.4242 15.75 12.76 15.4142 12.76 15C12.76 14.5858 12.4242 14.25 12.01 14.25V15.75ZM12 15.75H12.01V14.25H12V15.75Z" fill="#f94449"></path>
        <path d="M10.4033 5.41136L10.9337 5.94169L10.4033 5.41136ZM5.41136 10.4033L4.88103 9.87301L4.88103 9.87301L5.41136 10.4033ZM5.41136 13.5967L5.94169 13.0663L5.94169 13.0663L5.41136 13.5967ZM10.4033 18.5886L10.9337 18.0583L10.4033 18.5886ZM13.5967 18.5886L14.127 19.119L14.127 19.119L13.5967 18.5886ZM18.5886 10.4033L19.119 9.87301L19.119 9.87301L18.5886 10.4033ZM13.5967 5.41136L14.127 4.88103L14.127 4.88103L13.5967 5.41136ZM9.87301 4.88103L4.88103 9.87301L5.94169 10.9337L10.9337 5.94169L9.87301 4.88103ZM4.88103 14.127L9.87301 19.119L10.9337 18.0583L5.94169 13.0663L4.88103 14.127ZM14.127 19.119L19.119 14.127L18.0583 13.0663L13.0663 18.0583L14.127 19.119ZM19.119 9.87301L14.127 4.88103L13.0663 5.94169L18.0583 10.9337L19.119 9.87301ZM19.119 14.127C20.2937 12.9523 20.2937 11.0477 19.119 9.87301L18.0583 10.9337C18.6472 11.5226 18.6472 12.4774 18.0583 13.0663L19.119 14.127ZM9.87301 19.119C11.0477 20.2937 12.9523 20.2937 14.127 19.119L13.0663 18.0583C12.4774 18.6472 11.5226 18.6472 10.9337 18.0583L9.87301 19.119ZM4.88103 9.87301C3.70632 11.0477 3.70632 12.9523 4.88103 14.127L5.94169 13.0663C5.35277 12.4774 5.35277 11.5226 5.94169 10.9337L4.88103 9.87301ZM10.9337 5.94169C11.5226 5.35277 12.4774 5.35277 13.0663 5.94169L14.127 4.88103C12.9523 3.70632 11.0477 3.70632 9.87301 4.88103L10.9337 5.94169Z" fill="#f94449"></path>
        <path d="M12 8.75V12.25" stroke="#f94449" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
    </svg>
    `,
    msg: "Unijeli ste pogrešne podatke za prijavu."
};

const SIGNUP_FAILED = {
    status: "signup_failed",
    icon: `
    <svg width="90" height="90" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M12 14.25C11.5858 14.25 11.25 14.5858 11.25 15C11.25 15.4142 11.5858 15.75 12 15.75V14.25ZM12.01 15.75C12.4242 15.75 12.76 15.4142 12.76 15C12.76 14.5858 12.4242 14.25 12.01 14.25V15.75ZM12 15.75H12.01V14.25H12V15.75Z" fill="#f94449"></path>
        <path d="M10.4033 5.41136L10.9337 5.94169L10.4033 5.41136ZM5.41136 10.4033L4.88103 9.87301L4.88103 9.87301L5.41136 10.4033ZM5.41136 13.5967L5.94169 13.0663L5.94169 13.0663L5.41136 13.5967ZM10.4033 18.5886L10.9337 18.0583L10.4033 18.5886ZM13.5967 18.5886L14.127 19.119L14.127 19.119L13.5967 18.5886ZM18.5886 10.4033L19.119 9.87301L19.119 9.87301L18.5886 10.4033ZM13.5967 5.41136L14.127 4.88103L14.127 4.88103L13.5967 5.41136ZM9.87301 4.88103L4.88103 9.87301L5.94169 10.9337L10.9337 5.94169L9.87301 4.88103ZM4.88103 14.127L9.87301 19.119L10.9337 18.0583L5.94169 13.0663L4.88103 14.127ZM14.127 19.119L19.119 14.127L18.0583 13.0663L13.0663 18.0583L14.127 19.119ZM19.119 9.87301L14.127 4.88103L13.0663 5.94169L18.0583 10.9337L19.119 9.87301ZM19.119 14.127C20.2937 12.9523 20.2937 11.0477 19.119 9.87301L18.0583 10.9337C18.6472 11.5226 18.6472 12.4774 18.0583 13.0663L19.119 14.127ZM9.87301 19.119C11.0477 20.2937 12.9523 20.2937 14.127 19.119L13.0663 18.0583C12.4774 18.6472 11.5226 18.6472 10.9337 18.0583L9.87301 19.119ZM4.88103 9.87301C3.70632 11.0477 3.70632 12.9523 4.88103 14.127L5.94169 13.0663C5.35277 12.4774 5.35277 11.5226 5.94169 10.9337L4.88103 9.87301ZM10.9337 5.94169C11.5226 5.35277 12.4774 5.35277 13.0663 5.94169L14.127 4.88103C12.9523 3.70632 11.0477 3.70632 9.87301 4.88103L10.9337 5.94169Z" fill="#f94449"></path>
        <path d="M12 8.75V12.25" stroke="#f94449" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
    </svg>
    `,
    msg: "Došlo je do greške kod prijave."
};

const SIGNUP_DUPLICATE = {
    status: "duplicate",
    icon: `
    <svg xmlns="http://www.w3.org/2000/svg" width="90" height="90" fill="none" viewBox="0 0 24 24">
        <path fill="#f94449" d="m7.488 17.675-.467.587.467-.587ZM12.25 20a.75.75 0 0 0 0-1.5V20Zm6.25-7.75a.75.75 0 0 0 1.5 0h-1.5Zm-6.25 4.25a.75.75 0 0 0 0-1.5v1.5Zm4.03-1.28a.75.75 0 1 0-1.06 1.06l1.06-1.06Zm2.44 4.56a.75.75 0 1 0 1.06-1.06l-1.06 1.06Zm1.06-3.5a.75.75 0 1 0-1.06-1.06l1.06 1.06Zm-4.56 2.44a.75.75 0 1 0 1.06 1.06l-1.06-1.06ZM5.5 12A6.5 6.5 0 0 1 12 5.5V4a8 8 0 0 0-8 8h1.5ZM12 5.5a6.5 6.5 0 0 1 6.5 6.5H20a8 8 0 0 0-8-8v1.5Zm1.5 5.5a1.5 1.5 0 0 1-1.5 1.5V14a3 3 0 0 0 3-3h-1.5ZM12 12.5a1.5 1.5 0 0 1-1.5-1.5H9a3 3 0 0 0 3 3v-1.5ZM10.5 11A1.5 1.5 0 0 1 12 9.5V8a3 3 0 0 0-3 3h1.5ZM12 9.5a1.5 1.5 0 0 1 1.5 1.5H15a3 3 0 0 0-3-3v1.5Zm-3.97 8.694A5.482 5.482 0 0 1 12 16.5V15a6.98 6.98 0 0 0-5.053 2.156l1.082 1.038ZM12 18.5a6.47 6.47 0 0 1-4.045-1.412l-.934 1.174A7.97 7.97 0 0 0 12 20v-1.5Zm-4.045-1.412A6.487 6.487 0 0 1 5.5 12H4a7.987 7.987 0 0 0 3.02 6.262l.935-1.174ZM12 20h.25v-1.5H12V20Zm6.5-8v.25H20V12h-1.5ZM12 16.5h.25V15H12v1.5Zm3.22-.22 1.75 1.75 1.06-1.06-1.75-1.75-1.06 1.06Zm1.75 1.75 1.75 1.75 1.06-1.06-1.75-1.75-1.06 1.06Zm1.75-2.81-1.75 1.75 1.06 1.06 1.75-1.75-1.06-1.06Zm-1.75 1.75-1.75 1.75 1.06 1.06 1.75-1.75-1.06-1.06Z"></path>
    </svg>
    `,
    msg: "Korisničko ime ili e-mail je već u upotrebi."
};

const SIGNUP_SUCCESS = { 
    status: "success",
    icon: `
    <svg xmlns="http://www.w3.org/2000/svg" width="90" height="90" fill="none" viewBox="0 0 24 24">
        <path fill="#3eb489" d="m7.488 17.675-.467.587.467-.587ZM12.25 20a.75.75 0 0 0 0-1.5V20Zm6.25-7.75a.75.75 0 0 0 1.5 0h-1.5Zm-6.25 4.25a.75.75 0 0 0 0-1.5v1.5Zm4.107 2.75-.576.48a.75.75 0 0 0 1.272-.201l-.696-.279Zm3.444-3.991A.75.75 0 1 0 18.7 14.24l1.1 1.02Zm-4.475 1.582a.75.75 0 0 0-1.152.96l1.152-.96ZM5.5 12A6.5 6.5 0 0 1 12 5.5V4a8 8 0 0 0-8 8h1.5ZM12 5.5a6.5 6.5 0 0 1 6.5 6.5H20a8 8 0 0 0-8-8v1.5Zm1.5 5.5a1.5 1.5 0 0 1-1.5 1.5V14a3 3 0 0 0 3-3h-1.5ZM12 12.5a1.5 1.5 0 0 1-1.5-1.5H9a3 3 0 0 0 3 3v-1.5ZM10.5 11A1.5 1.5 0 0 1 12 9.5V8a3 3 0 0 0-3 3h1.5ZM12 9.5a1.5 1.5 0 0 1 1.5 1.5H15a3 3 0 0 0-3-3v1.5Zm-3.97 8.694A5.482 5.482 0 0 1 12 16.5V15a6.98 6.98 0 0 0-5.053 2.156l1.082 1.038ZM12 18.5a6.47 6.47 0 0 1-4.045-1.412l-.934 1.174A7.97 7.97 0 0 0 12 20v-1.5Zm-4.045-1.412A6.487 6.487 0 0 1 5.5 12H4a7.987 7.987 0 0 0 3.02 6.262l.935-1.174ZM12 20h.25v-1.5H12V20Zm6.5-8v.25H20V12h-1.5ZM12 16.5h.25V15H12v1.5Zm5.053 3.029c.45-1.124 1.133-2.192 1.717-2.99a18.283 18.283 0 0 1 1.015-1.262l.013-.015a.085.085 0 0 0 .003-.003l-.551-.509a193.52 193.52 0 0 0-.551-.508h-.001l-.002.002-.005.006a2.968 2.968 0 0 0-.088.098 19.698 19.698 0 0 0-1.043 1.305c-.621.85-1.384 2.031-1.9 3.319l1.393.556Zm-2.88-1.727 1.608 1.928 1.152-.96-1.607-1.929-1.152.96Z"></path>
    </svg>
    `,
    msg: "Uspješno ste izradili korisnički račun."
}

// Dobivanje i pohrana vrijednosti parametra status iz URL-a
const status = paramValue("status");

// Uspoređivanje status varijable sa preddefiniranim vrijednostima
// Prikazivanje korisniku poruke na temelju statusa (parametra) u URL-u 
if(status === LOGIN_FAILED.status) {
    displayPopupMessage(LOGIN_FAILED.icon, LOGIN_FAILED.msg);
} 
else if(status === SIGNUP_FAILED.status) {
    displayPopupMessage(SIGNUP_FAILED.icon, SIGNUP_FAILED.msg);
}
else if(status === SIGNUP_DUPLICATE.status) {
    displayPopupMessage(SIGNUP_DUPLICATE.icon, SIGNUP_DUPLICATE.msg);
}
else if(status === SIGNUP_SUCCESS.status) {
    displayPopupMessage(SIGNUP_SUCCESS.icon, SIGNUP_SUCCESS.msg);
}